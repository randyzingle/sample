# Simple adventure game

## phase1a - Initial setup 

Note, this README and all subsequent ones will be written using Markdown: https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet

### Download and install the tools that you'll need (Linux or Mac box only!)
1. [Eclipse Oxygen Release (4.7.0)] (http://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/oxygenr)
2. [Gradle] (https://gradle.org/install/)
3. Use the Eclipse Marketplace (under Help) to install the Buildship gradle plugin
4. [Git] (https://git-scm.com/downloads)

### Create a new project from scratch
First we will act as if we are creating a project from scratch so that we can see how its done.

Log onto you Linux or Mac box, create a working directory under your home directory (something like work/projects/adventure) then cd into that directory and run `gradle init --type java-library`: 

```shell
anduril$ pwd
/home/rzingle/work/projects/adventure
anduril$ gradle init --type java-library
:wrapper
:init

BUILD SUCCESSFUL

Total time: 0.543 secs
anduril$ ls
build.gradle  gradle  gradlew  gradlew.bat  settings.gradle  src

```
As you can see this has created a few files and directories. 

#### src directory
It's created a src directory that has the standard structure for Java projects, a `src/main/java` folder for java code, and a `src/main/resources` folder for resources (text files, images, properties, etc). It's also created a sample Java class and test file. 

```shell
anduril$ ls -r src
test  main
anduril$ ls -R src
src:
main  test

src/main:
java

src/main/java:
Library.java

src/test:
java

src/test/java:
LibraryTest.java
```

#### build.gradle and gradlew
`build.gradle` is the build file that describes all of the libraries that your project will use. The `gradlew` file is a script that runs gradle and builds whatever the build.gradle file tells it to build. Below is the raw file:

```shell
anduril$ cat build.gradle
/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.4/userguide/java_library_plugin.html
 */

// Apply the java-library plugin to add support for Java Library
apply plugin: 'java-library'

// In this section you declare where to find the dependencies of your project
repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}

dependencies {
    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:20.0'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
}
```

If you run `gradlew tasks` you will see the build tasks that are available to you.

We're going to remove the default dependencies and add the **eclipse** plugin which will allow us to easily import our project into Eclipse:

```shell
anduril$ cat build.gradle
/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.4/userguide/java_library_plugin.html
 */

// Apply the java-library plugin to add support for Java Library
apply plugin: 'java-library'
apply plugin: 'eclipse'

// In this section you declare where to find the dependencies of your project
repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
}

dependencies {
    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
}
```

If you run `gradlew tasks` again then you'll see the eclipse-specific tasks:

```shell
...
IDE tasks
---------
cleanEclipse - Cleans all Eclipse files.
eclipse - Generates all Eclipse files.
...
```

Let's generate the eclipse project files now by running `gradlew eclipse`

```shell
anduril$ ls -al
total 40
drwxrwxr-x  5 rzingle rzingle 4096 Aug  6 15:41 .
drwxrwxr-x 10 rzingle rzingle 4096 Aug  6 15:21 ..
-rw-rw-r--  1 rzingle rzingle  678 Aug  6 15:56 build.gradle
drwxrwxr-x  3 rzingle rzingle 4096 Aug  6 15:41 gradle
drwxrwxr-x  4 rzingle rzingle 4096 Aug  6 15:32 .gradle
-rwxrwxr-x  1 rzingle rzingle 5299 Aug  6 15:41 gradlew
-rw-rw-r--  1 rzingle rzingle 2260 Aug  6 15:41 gradlew.bat
-rw-rw-r--  1 rzingle rzingle  582 Aug  6 15:41 settings.gradle
drwxrwxr-x  4 rzingle rzingle 4096 Aug  6 15:41 src

anduril$ gradlew eclipse
:eclipseClasspath
:eclipseJdt
:eclipseProject
:eclipse

BUILD SUCCESSFUL

Total time: 0.696 secs

anduril$ ls -al
total 52
drwxrwxr-x  6 rzingle rzingle 4096 Aug  6 15:59 .
drwxrwxr-x 10 rzingle rzingle 4096 Aug  6 15:21 ..
-rw-rw-r--  1 rzingle rzingle  678 Aug  6 15:56 build.gradle
-rw-rw-r--  1 rzingle rzingle  357 Aug  6 15:59 .classpath
drwxrwxr-x  3 rzingle rzingle 4096 Aug  6 15:41 gradle
drwxrwxr-x  4 rzingle rzingle 4096 Aug  6 15:32 .gradle
-rwxrwxr-x  1 rzingle rzingle 5299 Aug  6 15:41 gradlew
-rw-rw-r--  1 rzingle rzingle 2260 Aug  6 15:41 gradlew.bat
-rw-rw-r--  1 rzingle rzingle  361 Aug  6 15:59 .project
drwxrwxr-x  2 rzingle rzingle 4096 Aug  6 15:59 .settings
-rw-rw-r--  1 rzingle rzingle  582 Aug  6 15:41 settings.gradle
drwxrwxr-x  4 rzingle rzingle 4096 Aug  6 15:41 src
```

Now we have the files Eclipse needs to import our project (.classpath, .project, and the .settings directory). 

From Eclipse do the following:

File -> Import -> General -> Existing Projects into Workspace

Select root directory (for me it's /home/rzingle/work/projects/adventure)
Check Options -> Search for nested projects

Right Click on the Project Name (adventure)
Configure -> Add Gradle Nature

We should have the project imported but the test is not compiling because it can't find the JUnit library

Right Click on the Project Name (adventure)
Gradle -> Refresh Gradle Project

This will download the Jar files that we listed in our dependencies section (junit-*.jar and hamcrest-core-*.jar)
Our compilation errors should be gone now.

Let's also add some Gradle specific Views to our Eclipse window. 

Window -> Show View -> Other -> Gradle -> (both) Gradle Executions & Gradle Tasks

Right Click on the Project Name (adventure)
Gradle -> Refresh Gradle Dependencies


#### Git

Create a **.gitignore** file which will tell git which files we don't want stored in our repository.

```shell
anduril$ pwd
/home/rzingle/work/projects/courses/adventure
anduril$ cat .gitignore 
node_modules/
*.class
*~
.DS_Store
.metadata/
.settings/
RemoteSystemsTempFiles/
.gradle/
build/
gradle/
libs/
.recommenders
bin/
.classpath
.project
```

Now make our folder **git-enabled**. The full instructions for this are here:
[git initialization] (https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/)

```shell
anduril$ pwd
/home/rzingle/work/projects/courses/adventure
anduril$ git init
Initialized empty Git repository in /home/rzingle/work/projects/courses/adventure/.git/
anduril$ git add .
anduril$ git commit -m 'first commit'
[master (root-commit) b651893] first commit
 8 files changed, 539 insertions(+)
 create mode 100644 .gitignore
 create mode 100644 README.md
 create mode 100644 build.gradle
 create mode 100755 gradlew
 create mode 100644 gradlew.bat
 create mode 100644 settings.gradle
 create mode 100644 src/main/java/Library.java
 create mode 100644 src/test/java/LibraryTest.java
 anduril$ git remote add origin https://github.com/randyzingle/tools.git
 
```





